<div id="container" [class.alertVisible]="alertVisible">
    <loader-mobile [visible]="loaderVisible"></loader-mobile>

    <header id="note-controls">
        <button class="small-button-icon-only" (click)="removeNote()">
            <icon-delete></icon-delete>
        </button>

        <loader [visible]="loaderVisible" class="mobileHidden"></loader>

        <button
            id="share"
            (click)="openSharingView()"
            [ngClass]="
                activeNote.isShared
                    ? 'small-button-secondary'
                    : 'small-button-primary'
            "
        >
            <icon-share
                [color]="activeNote.isShared ? '#878179' : 'white'"
            ></icon-share>
            {{
                activeNote.isShared
                    ? lang.copy.sharingSettings
                    : lang.copy.share
            }}
        </button>

        <button
            id="mobile-share"
            class="small-button-primary white-icon"
            (click)="openSharingView()"
        >
            <icon-share></icon-share>
            {{
                activeNote.isShared
                    ? lang.copy.sharingSettings
                    : lang.copy.share
            }}
        </button>

        <button
            id="close-note"
            class="small-button-icon-only"
            (click)="closeNote()"
        >
            <icon-close-note></icon-close-note>
        </button>
    </header>

    <div id="note-content">
        <form action="" [formGroup]="form" FixTextAreaTitleSizeOnDocumentResize>
            <div id="scrollable">
                <textarea
                    name="tite"
                    id="title"
                    rows="1"
                    data-gramm="false"
                    [formFocusAndHeightAdjustment]="toggleFormFocus"
                    oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                    placeholder="{{ lang.copy.addTitle }}"
                    onfocus='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                    placeholder="{{ lang.copy.addTitle }}"
                    onfocusout='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                    placeholder="{{ lang.copy.addTitle }}"
                    formControlName="title"
                >
                </textarea>

                <!-- <textarea name="body" id="body" rows="1" [formFocusAndHeightAdjustment]=toggleFormFocus
                oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                placeholder="Add description"
                onfocus='this.style.height = "";this.style.height = this.scrollHeight + "px"' placeholder="Add title"
                onfocusout='this.style.height = "";this.style.height = this.scrollHeight + "px"' placeholder="Add title"
                formControlName="body">
            </textarea> -->

                <section id="body" onclick="this.firstChild.focus()">
                    <textarea
                        name="body"
                        id="body"
                        [formFocusAndHeightAdjustment]="toggleFormFocus"
                        placeholder="{{ lang.copy.addDescription }}"
                        oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                        placeholder="{{ lang.copy.addDescription }}"
                        formControlName="body"
                    >
                    </textarea>
                </section>
            </div>
        </form>
    </div>

    <div [class.visible]="alertVisible" class="bottom-alert">
        <div class="alert">
            <persistent-alert>{{
                lang.copy.sharingNotice.general
            }}</persistent-alert>
        </div>
    </div>

    <!-- <div class="close-button" onclick="this.blur" *ngIf="textareaInFocus">
        <icon-hide-keyboard></icon-hide-keyboard>
    </div> -->
</div>
