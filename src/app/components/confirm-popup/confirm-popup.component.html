<div #container id="container" *ngIf="open" @popupFader>
    <div
        id="fg"
        @popupFader
        (touchstart)="touchStart($event)"
        (touchmove)="touchMove($event)"
        (touchend)="touchEnd($event)"
        #fg
    >
        <header [class.pro]="type === 'pro'">
            <h1 *ngIf="type === 'noteRemoval'">
                {{ lang.copy.popups.titles.remove }}
            </h1>
            <h1 *ngIf="type === 'noteUnshare'">
                {{ lang.copy.popups.titles.unshare }}
            </h1>
            <h1 *ngIf="type === 'linkRevoke'">
                {{ lang.copy.popups.titles.revoke }}
            </h1>
            <h1 *ngIf="type === 'info'">{{ title }}</h1>
            <h1 id="pro-title" *ngIf="type === 'pro'">
                {{ lang.copy.popups.titles.proDetailed }}
            </h1>
            <h1 *ngIf="type === 'lang'">
                {{ title }}
            </h1>
            <h1 *ngIf="type === 'contacts'">
                {{ title || lang.copy.popups.titles.contacts }}
            </h1>

            <button
                id="close-puput"
                class="small-button-icon-only"
                (click)="open = false; this.onCancel()"
            >
                <icon-close-note></icon-close-note>
            </button>
        </header>

        <div id="list-popup" *ngIf="type === 'lang'">
            <button
                class="popup-list-item"
                [class.active]="lang.lang === 'en'"
                (click)="open = false; this.setLang('en')"
            >
                <div class="popup-list-item__left">
                    <img src="assets/main-page/en-flag-round.svg" alt="" />
                    English
                </div>
                <icon-check *ngIf="lang.lang === 'en'"></icon-check>
                <button
                    *ngIf="lang.lang !== 'en'"
                    class="small-button-secondary popup-list-item__button"
                >
                    Select
                </button>
            </button>
            <button
                class="popup-list-item"
                [class.active]="lang.lang === 'ua'"
                (click)="open = false; this.setLang('ua')"
            >
                <div class="popup-list-item__left">
                    <img src="assets/main-page/ua-flag-round.svg" alt="" />
                    Українська
                </div>
                <icon-check *ngIf="lang.lang === 'ua'"></icon-check>
                <button
                    *ngIf="lang.lang !== 'ua'"
                    class="small-button-secondary popup-list-item__button"
                >
                    Обрати
                </button>
            </button>
            <button
                class="popup-list-item"
                [class.active]="lang.lang === 'ru'"
                (click)="open = false; this.setLang('ru')"
            >
                <div class="popup-list-item__left">
                    <img src="assets/main-page/ru-flag-round.svg" alt="" />
                    Кацапский
                </div>
                <icon-check *ngIf="lang.lang === 'ru'"></icon-check>
                <button
                    *ngIf="lang.lang !== 'ru'"
                    class="small-button-secondary popup-list-item__button"
                >
                    Выбрать
                </button>
            </button>
        </div>

        <div id="list-popup" *ngIf="type === 'contacts'">
            <a
                href="https://t.me/kopyl"
                target="_blank"
                class="popup-list-item contact_list_item"
                id="telegram"
            >
                <div class="popup-list-item__left contact_list_item__left">
                    <div
                        class="contact_list_item__logo contact_list_item__logo__telegram"
                    >
                        <img
                            src="assets/main-page/telegram-logo-inner.svg"
                            alt=""
                        />
                    </div>
                    <p>Telegram</p>
                </div>
                <icon-external-link></icon-external-link>
            </a>
            <a
                href="https://wa.me/380507308141"
                target="_blank"
                class="popup-list-item contact_list_item"
                id="whatsapp"
            >
                <div class="popup-list-item__left contact_list_item__left">
                    <div
                        class="contact_list_item__logo contact_list_item__logo__whatsapp"
                    >
                        <img
                            src="assets/main-page/whatsapp-logo-inner.svg"
                            alt=""
                        />
                    </div>
                    <p>WhatsApp</p>
                </div>
                <icon-external-link></icon-external-link>
            </a>
            <a
                href="https://www.linkedin.com/in/okopyl/"
                target="_blank"
                class="popup-list-item contact_list_item"
                id="linkedin"
            >
                <div class="popup-list-item__left contact_list_item__left">
                    <div
                        class="contact_list_item__logo contact_list_item__logo__linkedin"
                    >
                        <img
                            src="assets/main-page/linkedin-logo-inner.svg"
                            alt=""
                        />
                    </div>
                    <p>LinkedIn</p>
                </div>
                <icon-external-link></icon-external-link>
            </a>
            <a
                class="popup-list-item contact_list_item"
                href="mailto:kopyloleh@gmail.com"
                id="email"
            >
                <div class="popup-list-item__left contact_list_item__left">
                    <div
                        class="contact_list_item__logo contact_list_item__logo__email"
                    >
                        <img
                            src="assets/main-page/iosmailicon-inner.svg"
                            alt=""
                        />
                    </div>
                    <p>Email</p>
                </div>
                <icon-external-link></icon-external-link>
            </a>
        </div>

        <div id="pro" *ngIf="type === 'pro'">
            <div class="pro-tile">
                <img src="assets/pro-popup/telegram.svg" alt="" />
                <div class="description">
                    <p class="description-title">
                        {{
                            lang.copy.popups.descriptions.proDetailed.telegram
                                .title
                        }}
                    </p>
                    <p class="description-subtitle">
                        {{
                            lang.copy.popups.descriptions.proDetailed.telegram
                                .description
                        }}
                    </p>
                </div>
            </div>
            <div class="pro-tile">
                <img src="assets/pro-popup/email-and-tg-sender.svg" alt="" />
                <div class="description">
                    <p class="description-title">
                        {{
                            lang.copy.popups.descriptions.proDetailed.senders
                                .title
                        }}
                    </p>
                    <p class="description-subtitle">
                        {{
                            lang.copy.popups.descriptions.proDetailed.senders
                                .description
                        }}
                    </p>
                </div>
            </div>
            <div class="pro-tile">
                <img src="assets/pro-popup/unlimited-notes.svg" alt="" />
                <div class="description">
                    <p class="description-title">
                        {{
                            lang.copy.popups.descriptions.proDetailed.unlimited
                                .title
                        }}
                    </p>
                    <p class="description-subtitle">
                        {{
                            lang.copy.popups.descriptions.proDetailed.unlimited
                                .description
                        }}
                    </p>
                </div>
            </div>
        </div>

        <p class="single-description" *ngIf="type === 'noteRemoval'">
            {{ lang.copy.popups.titles.wantToDelete }} “<strong>{{
                activeNoteTitle
            }}</strong
            >” ?
        </p>

        <p class="single-description" *ngIf="type === 'noteUnshare'">
            {{ lang.copy.popups.descriptions.unshare.beforeTitle
            }}<strong>{{ activeNoteTitle }}</strong
            >” ?

            <br />

            {{ lang.copy.popups.descriptions.unshare.afterTitle }}
        </p>

        <p class="single-description" *ngIf="type === 'linkRevoke'">
            {{ lang.copy.popups.descriptions.revoke.beforeTitle
            }}<strong>{{ activeNoteTitle }}</strong
            >” ?

            <br />

            {{ lang.copy.popups.descriptions.revoke.afterTitle }}
        </p>

        <p class="single-description" *ngIf="type === 'info'">{{ body }}</p>

        <div
            id="buttons"
            *ngIf="type !== 'lang' && type !== 'contacts'"
            [class.noCancelButton]="noCancelButton"
        >
            <button
                *ngIf="!noCancelButton"
                class="small-button-secondary"
                id="cancel"
                (click)="open = false; this.onCancel()"
            >
                <icon-close-note></icon-close-note>
                {{ lang.copy.buttons.cancel }}
            </button>

            <button
                class="action small-button-primary white-icon"
                *ngIf="type === 'noteRemoval'"
                (click)="this.onSuccess(); open = false"
            >
                <div class="icon">
                    <icon-delete></icon-delete>
                </div>
                <span> {{ lang.copy.buttons.remove }} </span>
            </button>

            <button
                class="action small-button-primary white-icon"
                *ngIf="type === 'noteUnshare'"
                (click)="this.onSuccess(); open = false"
            >
                <div class="icon">
                    <icon-share></icon-share>
                </div>
                <span> {{ lang.copy.buttons.unshare }} </span>
            </button>

            <button
                class="action small-button-primary white-icon"
                *ngIf="type === 'linkRevoke'"
                (click)="this.onSuccess(); open = false"
            >
                <div class="icon">
                    <icon-revoke></icon-revoke>
                </div>
                <span>
                    {{ lang.copy.buttons.revoke }}
                </span>
            </button>

            <button
                class="action small-button-primary white-icon"
                *ngIf="type === 'info'"
                (click)="confirmationPressed.emit(); onSuccess(); open = false"
            >
                <div class="icon" *ngIf="confirmButtonIcon">
                    <ng-container
                        [ngComponentOutlet]="confirmButtonIcon"
                    ></ng-container>
                </div>
                <span>{{ buttonText }}</span>
            </button>

            <button
                class="action small-button-primary white-icon"
                *ngIf="type === 'pro'"
                (click)="confirmationPressed.emit(); onSuccess(); open = false"
            >
                <div class="icon" *ngIf="confirmButtonIcon">
                    <ng-container
                        [ngComponentOutlet]="confirmButtonIcon"
                    ></ng-container>
                </div>
                <span>{{ buttonText }}</span>
            </button>
        </div>
    </div>

    <div id="bg" (click)="open = false; this.onCancel()"></div>
</div>

<!-- <ng-container [ngTemplateOutlet]="compTemplate"></ng-container> -->

<!-- <ng-template #compTemplate>
    <p>www</p>
</ng-template> -->
